{"version":3,"file":"index.esm2017.mjs","sources":["../../src/core/errors.ts","../../src/util/logger.ts","../../src/util/utils.ts","../../src/util/utils.node.ts","../../src/credential/appCredential.ts","../../src/credential/onBehalfOfUserCredential.ts","../../src/credential/teamsUserCredential.ts","../../src/bot/teamsBotSsoPrompt.ts","../../src/apiClient/apiClient.ts","../../src/apiClient/bearerTokenAuthProvider.ts","../../src/apiClient/basicAuthProvider.ts","../../src/apiClient/apiKeyProvider.ts","../../src/conversation/interface.ts","../../src/apiClient/certificateAuthProvider.ts","../../src/conversation/sso/botSsoExecutionDialog.ts","../../src/conversation/messageBuilder.ts","../../src/conversation/invokeResponseFactory.ts","../../src/conversation/middlewares/notificationMiddleware.ts","../../src/conversationWithCloudAdapter/notification.ts","../../src/messageExtension/executeWithSSO.ts","../../src/conversation/middlewares/cardActionMiddleware.ts","../../src/conversationWithCloudAdapter/cardAction.ts","../../src/conversation/middlewares/commandMiddleware.ts","../../src/conversationWithCloudAdapter/command.ts","../../src/conversation/utils.ts","../../src/conversation/storage.ts","../../src/conversation/sso/defaultBotSsoExecutionActivityHandler.ts","../node_modules/.pnpm/@rollup+plugin-typescript@12.1.0_rollup@4.27.3_tslib@2.3.1_typescript@5.4.2/node_modules/tslib/tslib.es6.js","../../src/conversationWithCloudAdapter/conversation.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n",null],"names":["ErrorCode","LogLevel","ErrorMessage","InvalidConfiguration","ConfigurationNotExists","ResourceConfigurationNotExists","MissingResourceConfiguration","AuthenticationConfigurationNotExists","BrowserRuntimeNotSupported","NodejsRuntimeNotSupported","FailToAcquireTokenOnBehalfOfUser","OnlyMSTeamsChannelSupported","FailedToProcessSsoHandler","FailedToRetrieveSsoToken","CannotFindCommand","FailedToRunSsoStep","FailedToRunDedupStep","SsoActivityHandlerIsNull","AuthorizationHeaderAlreadyExists","BasicCredentialAlreadyExists","EmptyParameter","DuplicateHttpsOptionProperty","DuplicateApiKeyInHeader","DuplicateApiKeyInQueryParam","OnlySupportInQueryActivity","OnlySupportInLinkQueryActivity","ErrorWithCode","Error","constructor","message","code","super","this","Object","setPrototypeOf","prototype","name","setLogLevel","level","internalLogger","getLogLevel","logLevel","undefined","defaultLogger","verbose","console","debug","info","warn","error","log","x","Warn","Info","Verbose","logFunction","trim","timestamp","Date","toUTCString","logHeader","logMessage","customLogger","customLogFunction","setLogger","logger","setLogFunction","parseJwt","token","tokenObj","jwtDecode","exp","InternalError","err","errorMsg","formatString","str","replacements","args","replace","match","number","validateScopesType","value","String","Array","isArray","length","every","item","InvalidParameter","getScopesArray","scopes","split","filter","createConfidentialClientApplication","authentication","authority","authorityHost","tenantId","clientCertificate","certificateContent","exec","InvalidCertificate","thumbprintSha256","createHash","update","Buffer","from","digest","toUpperCase","privateKey","parseCertificate","auth","clientId","clientSecret","ConfidentialClientApplication","AppCredential","authConfig","config","loadAndValidateConfig","msalClient","getToken","options","accessToken","scopesStr","join","scopesArray","authenticationResult","acquireTokenByClientCredential","expiresOnTimestamp","expiresOn","getTime","ServiceError","missingValues","push","OnBehalfOfUserCredential","ssoToken","missingConfigurations","decodedSsoToken","result","acquireTokenOnBehalfOf","oboAssertion","generateAuthServerError","Math","floor","now","TokenExpiredError","getUserInfo","tokenObject","userInfo","displayName","objectId","oid","tid","preferredUserName","ver","preferred_username","upn","getUserInfoFromSsoToken","errorMessage","fullErrorMsg","UiRequiredError","indexOf","TeamsUserCredential","RuntimeNotSupported","login","resources","Promise","reject","invokeResponseType","TokenExchangeInvokeResponse","id","failureDetail","TeamsBotSsoPrompt","Dialog","initiateLoginEndpoint","dialogId","settings","validateConfig","beginDialog","dc","ensureMsTeamsChannel","timeout","endOnInvalidMessage","state","_a","activeDialog","expires","sendOAuthCardAsync","context","EndOfTurn","continueDialog","isMessage","activity","type","ActivityTypes","Message","isTeamsVerificationInvoke","isTokenExchangeRequestInvoke","endDialog","recognized","recognizeToken","succeeded","channelId","Channels","Msteams","ChannelNotSupported","account","TeamsInfo","getMember","userPrincipalName","loginHint","signInResource","getSignInResource","card","CardFactory","oauthCard","content","buttons","ActionTypes","Signin","msg","MessageFactory","attachment","sendActivity","signInLink","encodeURI","tokenExchangeResource","uuidv4","tokenPostResource","tokenResponse","isTokenExchangeRequest","credential","exchangedToken","getTokenExchangeInvokeResponse","StatusCodes","OK","ssoTokenExpiration","toISOString","connectionName","expiration","toString","warningMsg","PRECONDITION_FAILED","BAD_REQUEST","status","body","Invoke","verifyStateOperationName","tokenExchangeOperationName","obj","hasOwnProperty","createApiClient","apiEndpoint","authProvider","instance","axios","create","baseURL","interceptors","request","use","async","AddAuthenticationInfo","BearerTokenAuthProvider","headers","AuthorizationInfoAlreadyExists","BasicAuthProvider","userName","password","username","resolve","ApiKeyProvider","keyName","keyValue","keyLocation","ApiKeyLocation","Header","QueryParams","params","urlHasDefinedApiKey","url","URL","searchParams","has","NotificationTargetType","AdaptiveCardResponse","InvokeResponseErrorCode","CertificateAuthProvider","certOption","keys","httpsAgent","existingProperties","Set","property","assign","Agent","createPemCertOption","cert","key","passphrase","ca","createPfxCertOption","pfx","DIALOG_NAME","TEAMS_SSO_PROMPT_ID","COMMAND_ROUTE_DIALOG","BotSsoExecutionDialog","ComponentDialog","dedupStorage","ssoPromptSettings","dialogName","dedupStorageKeys","commandMapping","Map","ssoDialog","addDialog","initialDialogId","commandRouteDialog","WaterfallDialog","commandRouteStep","bind","addCommand","handler","triggerPatterns","commandId","getCommandHash","dialog","ssoStep","dedupStep","stepContext","set","patterns","patternStr","toLowerCase","run","accessor","dialogSet","DialogSet","add","dialogContext","createContext","results","DialogTurnStatus","empty","complete","getActivityText","text","removedMentionText","removeRecipientMention","turnContext","getMatchesCommandId","commandMessage","shouldDedup","next","onEndDialog","conversationId","conversation","currentDedupKeys","delete","storeItem","eTag","getStorageKey","storeItems","write","matchPattern","pattern","RegExp","test","matches","isPatternMatched","expressions","ex","command","MessageBuilder","attachAdaptiveCard","cardTemplate","data","$root","attachments","adaptiveCard","ACData","Template","expand","attachAdaptiveCardWithoutData","attachHeroCard","title","images","other","attachContent","heroCard","attachSigninCard","signinCard","attachO365ConnectorCard","o365ConnectorCard","AttachReceiptCard","receiptCard","attachThumbnailCard","thumbnailCard","attachement","InvokeResponseType","ActivityType","SearchScope","InvokeResponseFactory","textMessage","statusCode","AdaptiveCard","errorResponse","errorCode","createInvokeResponse","executionWithTokenAndConfig","logic","valueObj","composeExtension","suggestedActions","actions","getSignInResponseForMessageExtensionWithSilentAuthConfig","tokenRes","response","Activity","fromObject","InvokeResponse","getSignInResponseForMessageExtensionWithAuthConfig","handleMessageExtensionQueryWithSSO","FailedOperation","handleMessageExtensionLinkQueryWithSSO","CardActionMiddleware","handlers","actionHandlers","defaultMessage","onTurn","action","actionVerb","verb","triggerVerb","handleActionInvoked","InternalServerError","sendInvokeResponse","_b","_c","refresh","adaptiveCardResponse","NewForAll","ReplaceForAll","replyToId","updateActivity","CardActionBot","adapter","middleware","registerHandler","actionHandler","registerHandlers","CommandResponseMiddleware","ssoHandlers","activityHandler","commandHandlers","ssoCommandHandlers","hasSsoCommand","ssoActivityHandler","SsoActivityHandlerIsUndefined","ssoHandler","addSsoCommand","matchResult","shouldTrigger","handleCommandReceived","processResponse","commandText","alreadyProcessed","replyActivity","arg","CommandBot","ssoCommandActivityHandler","ssoConfig","commands","ssoCommands","registerCommand","registerCommands","registerSsoCommand","ssoCommand","validateSsoActivityHandler","registerSsoCommands","cloneConversation","JSON","parse","stringify","getKey","reference","getTeamsBotInstallationId","teamId","channelData","team","_d","_e","NotificationMiddleware","conversationReferenceStore","classifyActivity","CurrentBotInstalled","TeamRestored","getConversationReference","overwrite","CurrentBotMessaged","tryAddMessagedReference","CurrentBotUninstalled","TeamDeleted","remove","activityType","eventType","Unknown","conversationType","_f","channel","teamReference","DefaultConversationReferenceStore","fileDir","localFileName","process","env","TEAMSFX_NOTIFICATION_STORE_FILENAME","filePath","path","storeFileExists","readFromFile","writeToFile","list","pageSize","continuationToken","fileData","entries","map","entry","fs","access","readFile","encoding","rawData","writeFile","Channel","parent","sendMessage","onError","continueConversation","conversationReference","newConversation","ctx","res","sendAdaptiveCard","channelConversation","utils.cloneConversation","Member","Person","personalConversation","connectorClient","turnState","get","ConnectorClientKey","conversationParams","members","isGroup","agent","recipient","createConversationAsync","TeamsBotInstallation","botAppId","Group","utils.getTargetType","channels","teamsChannels","utils.getTeamsBotInstallationId","getTeamChannels","getPagedMembers","pagedMembers","m","getTeamDetails","teamDetails","NotificationBot","store","RUNNING_ON_AZURE","TEMP","BOT_ID","buildTeamsBotInstallation","validateInstallation","isValid","getPagedInstallations","validationEnabled","references","targets","valid","utils.getKey","findMember","predicate","scope","target","installations","matchSearchScope","pagedData","member","findChannel","findAllMembers","targetMembers","findAllChannels","All","DefaultBotSsoExecutionActivityHandler","TeamsActivityHandler","memoryStorage","MemoryStorage","userState","UserState","conversationState","ConversationState","_l","aad","customConfig","s","e","t","p","call","getOwnPropertySymbols","i","propertyIsEnumerable","__rest","_g","ssoPromptConfig","_h","_j","_k","ssoExecutionDialog","dialogState","createProperty","onMessage","saveChanges","handleTeamsSigninVerifyState","query","handleTeamsSigninTokenExchange","createDefaultAdapter","adapterConfig","CustomBotSsoExecutionActivityHandler","enabled","notification","cardAction","loadAuthConfigFromEnv","CloudAdapter","onTurnError","sendTraceActivity","requestHandler","req"],"mappings":"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","x_google_ignoreList":[27]}